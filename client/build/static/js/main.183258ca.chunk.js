(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{269:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),c=t(31),r=t.n(c),s=t(9),o=t(16),i=t(6),u=t(18),m=t.n(u),d=function(e){return m.a.post("/api/questions",e)},E=function(){return m.a.get("/api/questions")},f=function(e){return m.a.put("/api/questions/"+e.id,e)},b=function(e){return m.a.put("/api/answers/"+e.id,e)},p=function(e){return m.a.post("/api/answers",e)},h=function(){return m.a.get("/api/answers")},v=function(e){return m.a.get("/api/questions/"+e)},g=t(27),k=(t(71),t(24)),N=function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),c=(t[0],t[1]),r=Object(n.useState)([]),i=Object(s.a)(r,2),u=i[0],m=i[1],d=Object(n.useState)([]),f=Object(s.a)(d,2),b=f[0],p=f[1];Object(n.useEffect)((function(){v(),N()}),[]);var v=function(){E().then((function(e){c(e.data),m(e.data)})).catch((function(e){console.log(e.response)}))},N=function(){h().then((function(e){p(e.data)})).catch((function(e){console.log(e.response)}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8  col-sm-12"},l.a.createElement("br",null)," ",l.a.createElement("br",null),u.filter((function(a){return a.title.toLowerCase().includes(e.search.toLowerCase())||a.body.toLowerCase().includes(e.search.toLowerCase())})).map((function(e){return l.a.createElement(g.a.Body,{key:e.id},l.a.createElement("div",{className:"row"},l.a.createElement(o.b,{to:"/display-single-question/"+e.id,className:"col-md-12 col-sm-12 question"},e.title)),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-2 col-sm-12 count"},"likes: ",e.likes),l.a.createElement("div",{className:"col-md-2 col-sm-12 count"},"answers: ",(a=e.id,b.filter((function(e){return e.questionId===a})).length)),l.a.createElement("div",{className:"col-md-2 col-sm-12 count"},"views: ",e.views),l.a.createElement("div",{className:"col-md-4 col-sm-12 asked count"},"asked: ",k(e.createdAt).fromNow())),l.a.createElement("hr",null));var a}))),l.a.createElement("div",{className:"col-md-2  col-sm-12"},l.a.createElement("br",null),l.a.createElement("img",{src:"./images/ducki.jpg",width:"300px"})))))},w=t(19),j=t(48),O=t(8),x=t(26),C=function(e){return l.a.createElement(O.a,null,l.a.createElement(x.a,{className:"search",placeholder:"Search",onChange:function(a){e.setSearch(a.target.value)}}))},y=(t(79),function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar navbar-expand-lg nav1"},l.a.createElement("div",{className:"brand"},"Rubber Duck"),l.a.createElement("img",{src:"/images/duck.jpg",height:"50px"}),l.a.createElement(C,{setSearch:e.setSearch}),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"menu"},l.a.createElement(j.a,null))),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav ml-auto mt-2 mt-lg-0"},l.a.createElement("li",null,l.a.createElement(o.b,{to:"/post-question"},l.a.createElement(w.a,{variant:"outline-info",className:"ask-question"},"Ask question"))),l.a.createElement("li",null,l.a.createElement(o.b,{to:"/"},l.a.createElement(w.a,{variant:"link",className:"home"},"Home")))))))}),S=t(21),q=t(13),A=(t(80),Object(i.g)((function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),c=t[0],r=t[1],o=Object(n.useState)(!1),i=Object(s.a)(o,2),u=i[0],m=i[1];Object(n.useEffect)((function(){!0===u&&f()}),[u]);var E=function(e){var a=e.target,t=a.name,n=a.value;r(Object(q.a)(Object(q.a)({},c),{},Object(S.a)({},t,n)))},f=function(){d(c).then((function(a){console.log(a),e.history.replace("/")})).catch((function(e){console.log(e.response)}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 offset-sm-2 col-sm-12"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(g.a,{className:"card"},l.a.createElement(O.a,null,l.a.createElement(O.a.Group,{controlId:"formBasicEmail"},l.a.createElement(O.a.Label,{className:"title"},"Title"),l.a.createElement(O.a.Text,{className:"text-muted"},"Be specific, so people can understand the issue you're having"),l.a.createElement(O.a.Control,{name:"title",onChange:E})),l.a.createElement(O.a.Group,{controlId:"exampleForm.ControlTextarea1"},l.a.createElement(O.a.Label,{className:"title"},"Body"),l.a.createElement(O.a.Text,{className:"text-muted"},"Include all the information someone would need to answer your question. To add code blocks, wrap your code in 3 backticks like following example : ```location.pathname```"),l.a.createElement(O.a.Control,{as:"textarea",rows:"7",name:"body",onChange:E}))),l.a.createElement(w.a,{variant:"outline-info",className:"post-question",onClick:function(e){e.preventDefault(),r(Object(q.a)(Object(q.a)({},c),{},{likes:0,dislikes:0,views:0})),m(!0)}},"Post Question")),l.a.createElement("br",null)))))}))),T=t(28),I=t(22),F=(t(81),function(e){var a={body:""},t=Object(n.useState)(a),c=Object(s.a)(t,2),r=c[0],o=c[1],i=Object(n.useState)(!1),u=Object(s.a)(i,2),m=u[0],d=u[1];Object(n.useEffect)((function(){!0===m&&(E(),d(!1))}),[m]);var E=function(){p(r).then((function(t){e.setAnswers([].concat(Object(T.a)(e.answers),[t.data])),o(a)})).catch((function(e){console.log(e.response)}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a,null,l.a.createElement(O.a.Group,{controlId:"exampleForm.ControlTextarea1"},l.a.createElement(O.a.Label,{className:"title"},"Your Answer"),l.a.createElement(O.a.Text,{className:"text-muted"},"To add code blocks, wrap your code in 3 backticks like following example : ```location.pathname```"),l.a.createElement(O.a.Control,{as:"textarea",rows:"6",name:"body",value:r.body,onChange:function(e){var a=e.target,t=a.name,n=a.value;o(Object(q.a)(Object(q.a)({},r),{},Object(S.a)({},t,n)))}}))),l.a.createElement(w.a,{variant:"outline-info",className:"post-question",onClick:function(a){a.preventDefault(),o(Object(q.a)(Object(q.a)({},r),{},{likes:0,dislikes:0,questionId:e.question.id})),d(!0)}},"Post Answer"))}),L=t(34),B=t.n(L),_=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)({}),o=Object(s.a)(r,2),u=o[0],m=o[1],d=Object(i.f)();Object(n.useEffect)((function(){var e=d.pathname.split("/")[2];N(e)}),[]);var E=function(e){if(e){var a=[],t=g("```",e);if(t.length>0)for(var n=0;n<t.length;n+=2)if(0===t[n]||0!==n){a.push(l.a.createElement(B.a,null,e.substring(t[n]+3,t[n+1])));var c=e.substring(t[n+1]+3,t[n+2]);a.push(p(c))}else{var r=e.substring(0,t[n]);a.push(p(r)),a.push(l.a.createElement(B.a,null,e.substring(t[n]+3,t[n+1]))),r=e.substring(t[n+1]+3,t[n+2]),a.push(p(r))}else a.push(l.a.createElement("p",null,e));return a}},p=function(e){var a=[],t=[],n=e.match(/(\b(https?):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi);return n?(n.forEach((function(t){a.push(e.indexOf(t))})),console.log(a),a.forEach((function(c,r){if(console.log(e[0]),0===c||0!==r){var s=e.substring(c+n[r].length,a[r+1]),o=e.substring(c,c+n[r].length);t.push(l.a.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},o)),t.push(l.a.createElement("p",null,s))}else{var i=e.substring(0,c),u=e.substring(c,c+n[r].length),m=e.substring(c+n[r].length,a[r+1]);t.push(l.a.createElement("p",null,i)),t.push(l.a.createElement("a",{href:u,target:"_blank",rel:"noopener noreferrer"},u)),t.push(l.a.createElement("p",null,m))}}))):t.push(l.a.createElement("p",null,e)),t},g=function(e,a){var t=e.length;if(0==t)return[];for(var n,l=0,c=[];(n=a.indexOf(e,l))>-1;)c.push(n),l=n+t;return c},N=function(e){v(e).then((function(e){e.data.views+=1,f(e.data).then((function(){m(e.data),O(e.data.id)})).catch((function(e){console.log(e.response)}))})).catch((function(e){console.log(e.response)}))},w=function(e){var a=Object(q.a)({},u);a[e]+=1,f(a).then((function(){m(a)})).catch((function(e){console.log(e.response)}))},j=function(e,a){var n=Object(T.a)(t),l=n.find((function(e){return e.id===a}));l[e]+=1,b(l).then((function(){c(n)})).catch((function(e){console.log(e.response)}))},O=function(e){h().then((function(a){var t=[];a.data.forEach((function(a){a.questionId===e&&t.push(a)})),c(t)})).catch((function(e){console.log(e.response)}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 offset-sm-2 col-sm-12"},l.a.createElement("br",null),l.a.createElement("h2",null,u.title),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-1 likes"},l.a.createElement(I.b,{className:"likes-icon",onClick:function(){return w("likes")}}),u.likes),l.a.createElement("div",{className:"col-md-2 likes"},l.a.createElement(I.a,{className:"likes-icon",onClick:function(){return w("dislikes")}}),u.dislikes),l.a.createElement("div",{className:"col-md-4 col-sm-12 asked"},"asked: ",k(u.createdAt).fromNow()),l.a.createElement("div",{className:"col-md-2"},"views: ",u.views)),l.a.createElement("hr",null),l.a.createElement("br",null),E(u.body),l.a.createElement("hr",null),l.a.createElement("br",null),t.map((function(e){return l.a.createElement("div",{key:e.id},l.a.createElement("div",{className:"answer"},"Answer:"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-1 likes"},l.a.createElement(I.b,{className:"likes-icon",onClick:function(){return j("likes",e.id)}}),e.likes),l.a.createElement("div",{className:"col-md-2 likes"},l.a.createElement(I.a,{className:"likes-icon",onClick:function(){return j("dislikes",e.id)}}),e.dislikes),l.a.createElement("div",{className:"col-md-4 col-sm-12 asked"},"answered: ",k(e.createdAt).fromNow())),l.a.createElement("hr",null),E(e.body),l.a.createElement("hr",null))})),l.a.createElement(F,{question:u,answers:t,setAnswers:c}))),l.a.createElement("br",null)))};var D=function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],c=a[1];return l.a.createElement("div",null,l.a.createElement(o.a,null,l.a.createElement(y,{search:t,setSearch:c}),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/"},l.a.createElement(N,{search:t,setSearch:c})),l.a.createElement(i.a,{exact:!0,path:"/post-question"},l.a.createElement(A,null)),l.a.createElement(i.a,{exact:!0,path:"/display-single-question/:id"},l.a.createElement(_,null)))))};r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(D,null)),document.getElementById("root"))},49:function(e,a,t){e.exports=t(269)},71:function(e,a,t){},79:function(e,a,t){},80:function(e,a,t){},81:function(e,a,t){}},[[49,1,2]]]);
//# sourceMappingURL=main.183258ca.chunk.js.map